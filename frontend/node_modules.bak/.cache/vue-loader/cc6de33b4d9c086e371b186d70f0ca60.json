{"remainingRequest":"/srv/repos/bodega_central/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/srv/repos/bodega_central/frontend/src/components/bodega/Salida.vue?vue&type=script&lang=js&","dependencies":[{"path":"/srv/repos/bodega_central/frontend/src/components/bodega/Salida.vue","mtime":1678301459883},{"path":"/srv/repos/bodega_central/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1676473588660},{"path":"/srv/repos/bodega_central/frontend/node_modules/vue-loader/lib/index.js","mtime":1676473588036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIGNhcmdhbmRvX3BhZ2luYSAgIDogZmFsc2UsCiAgICAgIHN1Y3Vyc2FsZXMgICAgICAgIDogW10sCiAgICAgIHNhbGlkYSAgICAgICAgICAgIDoge3N1Y3Vyc2FsOicnLCBwcm9kdWN0b3M6Jyd9LAogICAgICBwcm9kdWN0b3MgICAgICAgICA6IFtdLAogICAgICB0aXBvc19kb2N1bWVudG9zICA6IFsKICAgICAgICB7dmFsdWU6MzMsIHRleHQ6J0ZBQ1RVUkEnfSwgCiAgICAgICAge3ZhbHVlOjM5LCB0ZXh0OidCT0xFVEEnfSwgCiAgICAgICAge3ZhbHVlOjUyLCB0ZXh0OidHVUlBIERFU1BBQ0hPJ30KICAgICAgXQogICAgfQogIH0sCiAgbW91bnRlZCgpewogICAgdGhpcy5saXN0YXJTdWN1cnNhbGVzKCk7CiAgfSwKICBtZXRob2RzOnsKICAgIGxpc3RhclN1Y3Vyc2FsZXMoKXsKICAgICAgdGhpcy5jYXJnYW5kb19wYWdpbmEgPSB0cnVlOwogICAgICBheGlvcy5wb3N0KGJhc2VfdXJsKydib2RlZ2EvbGlzdGFyU3VjdXJzYWxlcycpLnRoZW4oIHJlc3AgPT4gewogICAgICAgIHRoaXMuc3VjdXJzYWxlcyAgICAgICA9IHJlc3AuZGF0YTsKICAgICAgICB0aGlzLmNhcmdhbmRvX3BhZ2luYSAgPSBmYWxzZTsKICAgICAgfSkuY2F0Y2goZXJyb3IgPT57CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIHRoaXMuY2FyZ2FuZG9fcGFnaW5hID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKCiAgICBsaXN0YXJQcm9kdWN0b3NTdWN1cnNhbCgpewogICAgICB0aGlzLmNhcmdhbmRvX3BhZ2luYSA9IHRydWU7CiAgICAgIGNvbnN0IGRhdG9zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOwogICAgICBkYXRvcy5hcHBlbmQoJ2lkX3N1Y3Vyc2FsJywgdGhpcy5zYWxpZGEuc3VjdXJzYWwpOwogICAgICBheGlvcy5wb3N0KGJhc2VfdXJsKydib2RlZ2EvbGlzdGFyUHJvZHVjdG9zU3VjdXJzYWwnLCBkYXRvcykudGhlbiggcmVzcCA9PiB7CiAgICAgICAgdGhpcy5wcm9kdWN0b3MgICAgICAgID0gcmVzcC5kYXRhOwogICAgICAgIHRoaXMuY2FyZ2FuZG9fcGFnaW5hICA9IGZhbHNlOwogICAgICB9KS5jYXRjaChlcnJvciA9PnsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgdGhpcy5jYXJnYW5kb19wYWdpbmEgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoKICAgIGZlY2hhUGFzYWRhKGZlY2hhKXsKICAgICAgY29uc3QgZmVjaGFfZXN0aW1hZGEgPSBuZXcgRGF0ZShmZWNoYSk7CiAgICAgIGNvbnN0IGZlY2hhX2FjdHVhbCAgID0gbmV3IERhdGUoKTsKICAgICAgaWYoZmVjaGFfZXN0aW1hZGEgPCBmZWNoYV9hY3R1YWwpewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogIH0KfQoK"},{"version":3,"sources":["Salida.vue"],"names":[],"mappings":";AAkEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Salida.vue","sourceRoot":"src/components/bodega","sourcesContent":["<template>\n  <div class=\"container-fluid\">\n    <loader-component :cargando_pagina=\"cargando_pagina\"/>\n    <div class=\"row\">\n      <div class=\"col-12 text-md-left text-center\">\n        <h3><i class=\"fas fa-fw fa-truck mr-2\"></i>SALIDA DE BODEGA</h3>\n      </div>\n    </div>\n\n\n    <div class=\"row justify-content-center mt-4\">\n      <div class=\"col-xl-6 col-md-10 col-12\">\n        SUCURSAL DESTINO\n        <b-form-select @change=\"listarProductosSucursal()\" v-model=\"salida.sucursal\" class=\"mb-3\" :options=\"sucursales\" :value-field=\"'suc_id'\" :text-field=\"'suc_nombre'\"></b-form-select>\n      </div>\n    </div>\n    <div class=\"row justify-content-center mt-4 px-3\">\n      <div class=\"col-xl-8 col-md-12 col-12 border p-0\">\n        <table class=\"table table-striped text-center table-scroll mb-0\">\n          <thead>\n            <tr>\n              <th scope=\"col\">INGRESO</th>\n              <th scope=\"col\">T.DOC</th>\n              <th scope=\"col\">DOC</th>\n              <th scope=\"col\">PESO</th>\n              <th scope=\"col\">DESP. ESTIMADO</th>\n              <th scope=\"col\" class=\"alert-dark\">ESTANTE</th>\n              <th scope=\"col\" class=\"alert-dark\">SECCION</th>\n              <th scope=\"col\" class=\"alert-dark\">NUMERO</th>\n              <th scope=\"col\" class=\"alert-dark\">-</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"(prd, index) in productos\" :key=\"'esp'+index\" :class=\"{'prd-seleccionado': prd.seleccionado}\">\n              <td class=\"p-1\">{{ \n                prd.prd_fecha_ingreso.split(' ')[0].split('-')[2]+'-'+\n                prd.prd_fecha_ingreso.split(' ')[0].split('-')[1]+'-'+\n                prd.prd_fecha_ingreso.split(' ')[0].split('-')[0]+' '+\n                prd.prd_fecha_ingreso.split(' ')[1].split(':')[0]+':'+\n                prd.prd_fecha_ingreso.split(' ')[1].split(':')[1]\n                }}</td>\n              <td class=\"p-1\">{{prd.prd_tipo_documento}}</td>\n              <td class=\"p-1\">{{prd.prd_documento}}</td>\n              <td class=\"p-1\">{{prd.prd_peso}}</td>\n              <td class=\"p-1\" :class=\"{'alert-danger':fechaPasada(prd.prd_despacho_estimado)}\">{{\n                prd.prd_despacho_estimado.split('-')[2]+'-'+\n                prd.prd_despacho_estimado.split('-')[1]+'-'+\n                prd.prd_despacho_estimado.split('-')[0]\n                }}</td>\n              <td class=\"p-1 alert-dark\">{{prd.esp_estante}}</td>\n              <td class=\"p-1 alert-dark\">{{prd.esp_seccion}}</td>\n              <td class=\"p-1 alert-dark\">{{prd.esp_numero }}</td>\n              <td class=\"p-1 alert-dark\">\n                <b-form-checkbox :id=\"'checkbox-'+index\" v-model=\"prd.seleccionado\" :name=\"'checkbox-'+index\" :value=\"true\" :unchecked-value=\"false\"></b-form-checkbox>\n              </td>\n              <!-- <td class=\"p-1\"><b-button @click=\"nuevo_ingreso.espacio = espacio; modal_confirmar=true;\" variant=\"info\" size=\"sm\"><i class=\"fas fa-check\"></i></b-button></td> -->\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\nexport default {\n  data(){\n    return{\n      cargando_pagina   : false,\n      sucursales        : [],\n      salida            : {sucursal:'', productos:''},\n      productos         : [],\n      tipos_documentos  : [\n        {value:33, text:'FACTURA'}, \n        {value:39, text:'BOLETA'}, \n        {value:52, text:'GUIA DESPACHO'}\n      ]\n    }\n  },\n  mounted(){\n    this.listarSucursales();\n  },\n  methods:{\n    listarSucursales(){\n      this.cargando_pagina = true;\n      axios.post(base_url+'bodega/listarSucursales').then( resp => {\n        this.sucursales       = resp.data;\n        this.cargando_pagina  = false;\n      }).catch(error =>{\n        console.log(error);\n        this.cargando_pagina = false;\n      });\n    },\n\n    listarProductosSucursal(){\n      this.cargando_pagina = true;\n      const datos = new URLSearchParams();\n      datos.append('id_sucursal', this.salida.sucursal);\n      axios.post(base_url+'bodega/listarProductosSucursal', datos).then( resp => {\n        this.productos        = resp.data;\n        this.cargando_pagina  = false;\n      }).catch(error =>{\n        console.log(error);\n        this.cargando_pagina = false;\n      });\n    },\n\n    fechaPasada(fecha){\n      const fecha_estimada = new Date(fecha);\n      const fecha_actual   = new Date();\n      if(fecha_estimada < fecha_actual){\n        return true;\n      }\n      else {\n        return false;\n      }\n    }\n  }\n}\n\n</script>\n\n<style scoped>\n.prd-seleccionado {\n  color: #155724 !important;\n  background-color: #d4edda !important;\n  border-color: #c3e6cb !important;\n}\n\n.prd-seleccionado td{\n  color: #155724 !important;\n  background-color: #d4edda !important;\n  border-color: #c3e6cb !important;\n}\n</style>\n"]}]}