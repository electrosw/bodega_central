{"remainingRequest":"/srv/repos/cables_ecom/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/srv/repos/cables_ecom/frontend/src/App.vue?vue&type=script&lang=js&","dependencies":[{"path":"/srv/repos/cables_ecom/frontend/src/App.vue","mtime":1676313181278},{"path":"/srv/repos/cables_ecom/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/srv/repos/cables_ecom/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwcCcsCiAgZGF0YSgpewogICAgcmV0dXJuIHsKICAgICAgaWRfZWxlY3Ryb2NvbSAgICAgICAgIDogMiwKICAgICAgbnVtX2VtcHJlc2EgICAgICAgICAgIDogMCwKICAgICAgbnVtX2JvZGVnYSAgICAgICAgICAgIDogMCwKICAgICAgbm9tX2VtcHJlc2EgICAgICAgICAgIDogJycsCiAgICAgIG5vbV9ib2RlZ2EgICAgICAgICAgICA6ICcnLAogICAgICBiYXJyYSAgICAgICAgICAgICAgICAgOiBmYWxzZSwgLy8gVkFSSUFCTEUgUVVFIERFVEVSTUlOQSBTSSBMQSBCQVJSQSBMQVRFUkFMIEVTVEEgT0NVTFRBCiAgICAgIG1lbnUgICAgICAgICAgICAgICAgICA6IFtdLAogICAgICBtZW51ICAgICAgICAgICAgICAgICAgOiBbCiAgICAgICAge25vbWJyZTonTnVldm8gQ29ydGUnICwgdmlzaWJsZTogZmFsc2UsIGljb25vOiAnPGkgY2xhc3M9ImZhcyBmYS1mdyBtci0yIGZhLXBsdXMiPjwvaT4nICAgfSwKICAgICAgICB7bm9tYnJlOidDb3J0ZXMnICAgICAgLCB2aXNpYmxlOiBmYWxzZSwgaWNvbm86ICc8aSBjbGFzcz0iZmFzIGZhLWZ3IG1yLTIgZmEtbGlzdCI+PC9pPicgICAgICAgICB9LAogICAgICAgIHtub21icmU6J1BlcnNvbmFsJyAgICAsIHZpc2libGU6IGZhbHNlLCBpY29ubzogJzxpIGNsYXNzPSJmYXMgZmEtZncgbXItMiBmYS11c2VycyI+PC9pPicgfQogICAgICBdLAogICAgICBtb2RhbF9jYW1iaWFyX2NsYXZlICAgOiBmYWxzZSwKICAgICAgbW9kYWxfY2VycmFyX3Nlc2lvbiAgIDogZmFsc2UsCiAgICAgIHVzdWFyaW8gICAgICAgICAgICAgICA6IHtydXQ6JycsIGR2OicnLCBub21icmVzOicnLCBhcGVsbGlkb3M6JycsIGNsYXZlX2FjdHVhbDonJywgY2xhdmVfbnVldmExOicnLCBjbGF2ZV9udWV2YTI6JycsIGFkbWluOmZhbHNlfSwKICAgICAgY2FyZ2FuZG9fcGFnaW5hICAgICAgIDogZmFsc2UKICAgIH0KICB9LAoKICBtb3VudGVkKCl7CiAgICAvL3RoaXMub2J0aWVuZURhdG9zVXN1YXJpbygpOwogICAgLy90aGlzLnNldEVtcHJlc2EoKTsKICAgIHRoaXMuY2FtYmlhVmlzdGEoMCk7CiAgfSwKCiAgbWV0aG9kczp7CiAgICB2YWxpZGFJbnB1dHNDbGF2ZSgpewogICAgICBpZih0aGlzLnVzdWFyaW8uY2xhdmVfYWN0dWFsICE9ICcnICYmIHRoaXMudXN1YXJpby5jbGF2ZV9udWV2YTEgPT0gdGhpcy51c3VhcmlvLmNsYXZlX251ZXZhMiAmJiB0aGlzLnVzdWFyaW8uY2xhdmVfbnVldmExLmxlbmd0aD41ICYmIHRoaXMudmFsaWRhQ2xhdmUodGhpcy51c3VhcmlvLmNsYXZlX251ZXZhMSkpewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9ZWxzZXsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgdmFsaWRhQ2xhdmUoY2xhdmUpewogICAgICB2YXIgcmVnZXggPSAvXig/PS4qXGQpKD89LipbYS16w6HDqcOtw7PDusO8w7FdKS4qW0EtWsOBw4nDjcOTw5rDnMORXS87CiAgICAgIGlmKHJlZ2V4LnRlc3QoY2xhdmUpICYmIGNsYXZlLmxlbmd0aCA+IDUpewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9ZWxzZXsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCgogICAgb2J0aWVuZURhdG9zVXN1YXJpbygpewogICAgICB0aGlzLmNhcmdhbmRvX3BhZ2luYSA9IHRydWU7CiAgICAgIGF4aW9zLnBvc3QoYmFzZV91cmwrJ1BlcmZpbC9vYnRpZW5lRGF0b3NVc3VhcmlvJykudGhlbiggcmVzcCA9PiB7CiAgICAgICAgaWYocmVzcC5zdGF0dXMgPT09IDIwMCl7CiAgICAgICAgICB2YXIgbWVuc2FqZSA9IHJlc3AuZGF0YTsKICAgICAgICAgIGlmKG1lbnNhamUua2V5ID09IDEpewogICAgICAgICAgICB0aGlzLmNhcmdhbmRvX3BhZ2luYSAgICAgICAgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy51c3VhcmlvLnJ1dCAgICAgICAgICAgID0gbWVuc2FqZS51c2JfcnV0OwogICAgICAgICAgICB0aGlzLnVzdWFyaW8uZHYgICAgICAgICAgICAgPSBtZW5zYWplLnVzYl9kdjsKICAgICAgICAgICAgdGhpcy51c3VhcmlvLm5vbWJyZXMgICAgICAgID0gbWVuc2FqZS51c2Jfbm9tYnJlczsKICAgICAgICAgICAgdGhpcy51c3VhcmlvLmFwZWxsaWRvcyAgICAgID0gbWVuc2FqZS51c2JfYXBlbGxpZG9zOwogICAgICAgICAgICB0aGlzLnVzdWFyaW8udXN1YXJpbyAgICAgICAgPSBtZW5zYWplLnVzYl91c3VhcmlvOwogICAgICAgICAgICB0aGlzLnVzdWFyaW8uYWRtaW5pc3RyYWRvciAgPSBtZW5zYWplLnVzYl9hZG1pbmlzdHJhZG9yOwogICAgICAgICAgICB0aGlzLnVzdWFyaW8uYWRtaW5pc3RyYXRpdm8gPSBtZW5zYWplLnVzYl9hZG1pbmlzdHJhdGl2bzsKICAgICAgICAgICAgaWYodGhpcy51c3VhcmlvLmFkbWluaXN0cmFkb3IgfHwgdGhpcy51c3VhcmlvLmFkbWluaXN0cmF0aXZvKXsKICAgICAgICAgICAgICB0aGlzLm1lbnUgPSB0aGlzLm1lbnVfYWRtaW47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZXsKICAgICAgICAgICAgICB0aGlzLm1lbnUgPSB0aGlzLm1lbnVfcGVyc29uYWw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc2V0VGltZW91dCgoKT0+ewogICAgICAgICAgICAgIHRoaXMuY2FtYmlhVmlzdGEoMCk7CiAgICAgICAgICAgIH0sIDEpOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5jYXJnYW5kb19wYWdpbmEgICAgICAgID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIGVsc2V7CiAgICAgICAgICB0aGlzLmNhcmdhbmRvX3BhZ2luYSAgICAgICAgPSBmYWxzZTsKICAgICAgICAgIHRoaXMubW9kYWxfY2FtYmlhcl9jbGF2ZSAgICA9IGZhbHNlOwogICAgICAgICAgdGhpcy5tdWVzdHJhVG9hc3QoJ0VSUk9SJywgJ0VSUk9SIEFMIENBUkdBUyBEQVRPUyBORUNFU0FSSU9TLCBJTlRFTlRFTE8gTUFTIFRBUkRFLicsICdkYW5nZXInKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBndWFyZGFDbGF2ZSgpewogICAgICB0aGlzLmNhcmdhbmRvX3BhZ2luYSA9IHRydWU7CiAgICAgIHZhciBkYXRvID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOwogICAgICBkYXRvLmFwcGVuZCgnY2xhdmVfYWN0dWFsJywgc2hhMShtZDUodGhpcy51c3VhcmlvLnJ1dCt0aGlzLnVzdWFyaW8uY2xhdmVfYWN0dWFsKSkpOwogICAgICBkYXRvLmFwcGVuZCgnY2xhdmVfbnVldmEnLCBzaGExKG1kNSh0aGlzLnVzdWFyaW8ucnV0K3RoaXMudXN1YXJpby5jbGF2ZV9udWV2YTEpKSk7CiAgICAgIGF4aW9zLnBvc3QoYmFzZV91cmwrJ1BlcmZpbC9jYW1iaWFDbGF2ZScsIGRhdG8pLnRoZW4oIHJlc3AgPT4gewogICAgICAgIGlmKHJlc3Auc3RhdHVzID09PSAyMDAgJiYgJ3Jlc3AnIGluIHJlc3AuZGF0YSl7CiAgICAgICAgICB2YXIgbWVuc2FqZSA9IHJlc3AuZGF0YS5yZXNwOwogICAgICAgICAgaWYobWVuc2FqZS5rZXkgPT0gMSl7CiAgICAgICAgICAgIHRoaXMuY2FyZ2FuZG9fcGFnaW5hICAgICAgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5tb2RhbF9jYW1iaWFyX2NsYXZlICA9IGZhbHNlOyAKICAgICAgICAgICAgdGhpcy51c3VhcmlvLmNsYXZlX2FjdHVhbCA9ICcnOwogICAgICAgICAgICB0aGlzLnVzdWFyaW8uY2xhdmVfbnVldmExID0gJyc7IAogICAgICAgICAgICB0aGlzLnVzdWFyaW8uY2xhdmVfbnVldmEyID0gJyc7CiAgICAgICAgICAgIHRoaXMubXVlc3RyYVRvYXN0KCfDiVhJVE8nLCAnQ0xBVkUgQ0FNQklBREEgQ09OIMOJWElUTy4nLCAnc3VjY2VzcycpOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSBpZihtZW5zYWplLmtleSA9PSAyKSB7CiAgICAgICAgICAgIHRoaXMuY2FyZ2FuZG9fcGFnaW5hICAgICAgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5tdWVzdHJhVG9hc3QoJ0FURU5DScOTTicsICdMQSBDTEFWRSBBQ1RVQUwgSU5HUkVTQURBIE5PIEVTIENPUlJFQ1RBLicsICdkYW5nZXInKTsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgaWYobWVuc2FqZS5rZXkgPT0gMCkgewogICAgICAgICAgICB0aGlzLmNhcmdhbmRvX3BhZ2luYSAgICAgID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMubXVlc3RyYVRvYXN0KCdFUlJPUicsICdFUlJPUiBBTCBSRUFMSVpBUiBDQU1CSU9TLCBJTlRFTlRFTE8gTUFTIFRBUkRFLicsICdkYW5nZXInKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZXsKICAgICAgICAgIHRoaXMuY2FyZ2FuZG9fcGFnaW5hICAgICAgICA9IGZhbHNlOwogICAgICAgICAgdGhpcy5tdWVzdHJhVG9hc3QoJ0VSUk9SJywgJ0VSUk9SIEFMIFJFQUxJWkFSIENBTUJJT1MsIElOVEVOVEVMTyBNQVMgVEFSREUuJywgJ2RhbmdlcicpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIG9jdWx0YUJhcnJhKCl7CiAgICAgICQoJyNleGFtcGxlQWNjb3JkaW9uJykuY3NzKCd3aWR0aCcsICc1NXB4Jyk7CiAgICAgICQoJy5pdGVtX2xhdGVyYWwnKS5jc3MoJ3dpZHRoJywgJzU1cHgnKTsKICAgICAgJCgnLmNvbnRlbnQtd3JhcHBlcicpLmNzcygnbWFyZ2luLWxlZnQnLCAnNTVweCcpOwogICAgICB0aGlzLmJhcnJhID0gZmFsc2U7CiAgICAgICQoIi50ZXh0b19iYXJyYSIpLmhpZGUoKTsKICAgIH0sCgogICAgbXVlc3RyYUJhcnJhKCl7CiAgICAgICQoJyNleGFtcGxlQWNjb3JkaW9uJykuY3NzKCd3aWR0aCcsICcyNTBweCcpOwogICAgICAkKCcuaXRlbV9sYXRlcmFsJykuY3NzKCd3aWR0aCcsICcyNTBweCcpOwogICAgICAkKCcuY29udGVudC13cmFwcGVyJykuY3NzKCdtYXJnaW4tbGVmdCcsICcyNTBweCcpOwogICAgICB0aGlzLmJhcnJhID0gdHJ1ZTsKICAgICAgJCgiLnRleHRvX2JhcnJhIikuc2hvdygpOwoKICAgIH0sCgogICAgY2FtYmlhVmlzdGEodmlzdGEpewogICAgICBmb3IodmFyIGk9MDsgaTx0aGlzLm1lbnUubGVuZ3RoOyBpKyspewogICAgICAgIGlmKGkgPT0gdmlzdGEpICB7IHRoaXMubWVudVtpXS52aXNpYmxlID0gdHJ1ZTsgICB9CiAgICAgICAgZWxzZSAgICAgICAgICAgIHsgdGhpcy5tZW51W2ldLnZpc2libGUgPSBmYWxzZTsgIH0KICAgICAgfQogICAgICAKICAgICAgJCgnLml0ZW1fbGF0ZXJhbCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTsKICAgICAgJCgnI2l0ZW1fJyt2aXN0YSkuYWRkQ2xhc3MoJ2FjdGl2ZScpOyAgCiAgICAgIHRoaXMub2N1bHRhTWVudSgpOwogICAgfSwKCiAgICBvY3VsdGFNZW51KCl7CiAgICAgICQoJyNuYXZiYXJSZXNwb25zaXZlJykuaGlkZSgxMDApOyAKICAgIH0sCgogICAgbXVlc3RyYUJhcnJhU3VwZXJpb3IoKXsKICAgICAgJCgnI25hdmJhclJlc3BvbnNpdmUnKS50b2dnbGUoMTAwKTsKICAgIH0sCgogICAgc2V0RW1wcmVzYSgpewogICAgICBheGlvcy5wb3N0KGJhc2VfdXJsKydzdWN1cnNhbC9zZXRlbXByZXNhJykudGhlbiggcmVzcCA9PiB7CiAgICAgICAgdGhpcy5udW1fZW1wcmVzYSAgPSByZXNwLmRhdGEuZHRzX2VtcHJlc2E7CiAgICAgICAgdGhpcy5udW1fYm9kZWdhICAgPSByZXNwLmRhdGEuZHRzX2JvZGVnYTsKICAgICAgICB0aGlzLm5vbV9lbXByZXNhICA9IHJlc3AuZGF0YS5lbXBfbm9tYnJlOwogICAgICAgIHRoaXMubm9tX2JvZGVnYSAgID0gcmVzcC5kYXRhLmJvZF9ub21icmU7CiAgICAgIH0pOwogICAgfQoKICB9Cgp9Cg=="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;AAkKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA","file":"App.vue","sourceRoot":"src","sourcesContent":["<template>\n  <div id=\"app\">\n    <loader-component :cargando_pagina=\"cargando_pagina\"/>\n    <div class=\"fixed-nav sticky-footer bg-dark sidenav-toggled\" id=\"page-top\">\n      <nav class=\"navbar navbar-expand-lg navbar-dark bg-dark fixed-top pl-2\" id=\"mainNav\">\n        <a class=\"navbar-brand\" href=\"<?=base_url?>\"><i class=\"fas fa-cut fa-lg mr-2 ml-1\"></i>CORTES DE CABLES</a>\n        <button class=\"navbar-toggler navbar-toggler-right\" type=\"button\" @click=\"muestraBarraSuperior()\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span class=\"navbar-toggler-icon\"></span>\n        </button>\n        <div class=\"collapse navbar-collapse\" id=\"navbarResponsive\">\n          <ul v-if=\"menu!=[]\" class=\"navbar-nav navbar-sidenav\" id=\"exampleAccordion\" style=\"width: 55px;\">\n\n            <li  v-for=\"(item, index) in menu\" v-bind:key=\"index\" class=\"nav-item item_lateral\" :id=\"'item_'+index\" style=\"width: 55px;\" v-b-tooltip.hover.right :title=\"item.nombre\" @click=\"cambiaVista(index)\">\n              <a class=\"nav-link\" style=\"cursor:pointer;\">\n                <span v-html=\"item.icono\"></span>\n                <span class=\"nav-link-text texto_barra\" v-text=\"item.nombre\" style=\"display:none;\"></span>\n              </a>\n            </li>\n\n            <!-- <li class=\"nav-item item_lateral\" :id=\"'item_'+index\" style=\"width: 55px;\" v-b-tooltip.hover.right :title=\"'Cambio de clave'\" @click=\"modal_cambiar_clave=true; ocultaMenu();\">\n              <a class=\"nav-link\" style=\"cursor:pointer;\">\n                <i class=\"fas fa-key fa-fw mr-2\"></i>\n                <span class=\"nav-link-text texto_barra\" v-text=\"'Cambio de clave'\" style=\"display:none;\"></span>\n              </a>\n            </li> -->\n\n            <!-- FIN DEL MENU LATERAL -->\n          </ul>\n          <ul class=\"navbar-nav sidenav-toggler\">\n            <li class=\"nav-item item_lateral\" style=\"width: 55px;\">\n              <a v-if=\"barra\" @click=\"ocultaBarra();\" class=\"nav-link text-center\">\n                <i class=\"fas fa-angle-left\"></i>\n              </a>\n              <a v-else @click=\"muestraBarra();\" class=\"nav-link text-center\">\n                <i class=\"fas fa-angle-right\"></i>\n              </a>\n            </li>\n          </ul>\n          <!-- <ul class=\"navbar-nav ml-auto\">\n            <li class=\"nav-item\">\n              <a @click=\"modal_cerrar_sesion=true;\" id=\"logout-btn\" class=\"nav-link\">\n              <i class=\"fas fa-sign-out-alt\"></i> CERRAR SESIÓN</a>\n            </li>\n          </ul> -->\n        </div>\n      </nav>\n    <div class=\"content-wrapper\" style=\"margin-left: 55px; margin-bottom: 55px; padding-top: 55px;\">\n      <!-- <div class=\"container-fluid pt-3\">\n        <nav aria-label=\"breadcrumb\">\n            <ol class=\"breadcrumb\">\n                <li class=\"breadcrumb-item  ml-2\"><a href=\"<?=base_url?>\">INICIO</a></li>\n                <li class=\"breadcrumb-item active\"><span v-text=\"nom_empresa\"></span></li>\n                <li class=\"breadcrumb-item active\" v-if=\"num_empresa == id_electrocom\"><span v-text=\"'/ '+nom_bodega\"></span></li>\n            </ol>\n        </nav> \n      </div> -->\n      \n      <!-- DIV DINAMICO QUE CONTIENE EL CUERPO DE LA PAGINA -->\n      <!-- MENU ADMINISTRADOR -->\n      <div class=\"mb-4 mt-4\">\n        <nuevo-corte-component  v-if=\"menu[0].visible\"/>\n        <cortes-component       v-if=\"menu[1].visible\"/>\n        <usuarios-component     v-if=\"menu[2].visible\"/>\n      </div>\n\n    </div>\n      <!-- Scroll to Top -->\n      <a class=\"scroll-to-top rounded\" href=\"#page-top\" style=\"margin-bottom: 55px;\">\n        <i class=\"fas fa-angle-up\"></i>\n      </a>\n    </div>\n\n    <!--<b-modal :content-class=\"'border-0 rounded-0 mb-5'\" v-model=\"modal_selecciona_local\" title=\"SELECCIONE EMPRESA/LOCAL\" size=\"lg\" hide-footer hide-header-close no-close-on-esc no-close-on-backdrop centered>\n      <label>EMPRESA</label>\n      <select v-model=\"empresa_selecc\" class=\"form-control\">\n        <option :key=\"index\" v-for=\"(empresa, index) in empresas\" :value=\"empresa\" v-text=\"empresa.emp_nombre\"></option>\n      </select>\n      <div v-if=\"empresa_selecc.emp_id == id_electrocom\">\n        <label class=\"mt-3\">BODEGA</label>\n        <select v-model=\"bodega_selecc\" class=\"form-control\">\n          <option :key=\"index\" v-for=\"(bodega, index) in bodegas\" :value=\"bodega\" v-text=\"bodega.bod_nombre\"></option>\n        </select>\n      </div>\n      <div class=\"row justify-content-center mt-4 mb-2\">\n        <button class=\"btn btn-success col-4\" @click=\"setEmpresa()\"><i class=\"fas fa-sign-in-alt mr-2\"></i>ACEPTAR</button>\n      </div>\n     \n    </b-modal>-->\n\n    <b-modal v-model=\"modal_cambiar_clave\" title=\"CAMBIO DE CLAVE\" hide-footer no-close-on-backdrop no-close-on-esc>\n      <div class=\"row\">\n        <div class=\"col-2 pr-0\">\n          <h6 class=\"text-left\">NOMBRE</h6>\n        </div>\n        <div class=\"col-1 p-0\">\n          <h6 class=\"text-center font-weight-light\">:</h6>\n        </div>\n        <div class=\"col-9 pl-0\">\n          <h6 class=\"text-left font-weight-light text-uppercase\">{{usuario.nombres+' '+usuario.apellidos}}</h6>\n        </div>\n      </div>\n      <div class=\"row mb-3 pb-2 border-bottom\">\n        <div class=\"col-2 pr-0\">\n          <h6 class=\"text-left\">RUT</h6>\n        </div>\n        <div class=\"col-1 p-0\">\n          <h6 class=\"text-center font-weight-light\">:</h6>\n        </div>\n        <div class=\"col-9 pl-0\">\n          <h6 class=\"text-left font-weight-light\" v-if=\"usuario.rut!=''\">{{formateaRut(usuario.rut+'-'+usuario.dv)}}</h6>\n        </div>\n      </div>\n\n      <h6 class=\"text-left font-weight-bold\">INGRESA TU CLAVE ACTUAL</h6>\n      <div class=\"input-group mb-3\">\n        <div class=\"input-group-prepend\">\n          <span class=\"input-group-text\"><i class=\"fas fa-lock fa-fw\"></i></span>\n        </div>\n        <b-input v-model=\"usuario.clave_actual\" type=\"password\" class=\"form-control\" placeholder=\"Clave actual\"/>\n      </div>\n\n      <h6 class=\"text-left font-weight-bold mt-4\">NUEVA CLAVE</h6>\n      <div class=\"input-group mb-3\">\n        <div class=\"input-group-prepend\">\n          <span class=\"input-group-text\"><i class=\"fas fa-lock fa-fw\"></i></span>\n        </div>\n        <b-input v-model=\"usuario.clave_nueva1\" type=\"password\" class=\"form-control\" placeholder=\"Ingresa una clave de seguridad\" :state=\"validaClave(usuario.clave_nueva1)\"/>\n      </div>\n      <div class=\"input-group mb-3\">\n        <div class=\"input-group-prepend\">\n          <span class=\"input-group-text\"><i class=\"fas fa-lock fa-fw\"></i></span>\n        </div>\n        <b-input v-model=\"usuario.clave_nueva2\" :disabled=\"!validaClave(usuario.clave_nueva1)\" type=\"password\" class=\"form-control\" placeholder=\"Reingresa tu nueva clave\" :state=\"validaClave(usuario.clave_nueva1) && usuario.clave_nueva1==usuario.clave_nueva2\"/>\n      </div>\n      <h6 class=\"text-center font-weight-bold mt-2\"><i class=\"fas fa-exclamation-circle fa-fw\"></i> <span class=\"font-weight-light\">La nueva clave debe contener mayúsculas, minúsculas y números, con un mínimo de 6 caracteres de largo.</span></h6>\n      <div class=\"row justify-content-beteween border-top pt-3\">\n        <div class=\"col-6\">\n          <button @click=\"modal_cambiar_clave=false; usuario={clave_actual:'', clave_nueva1:'', clave_nueva2:''}\" class=\"btn btn-block btn-sm btn-danger\"><i class=\"fas fa-times fa-fw mr-2\"></i>CANCELAR</button>\n        </div>\n        <div class=\"col-6\">\n          <button @click=\"guardaClave()\" :disabled=\"!validaInputsClave()\" class=\"btn btn-block btn-sm btn-success\"><i class=\"fas fa-check fa-fw mr-2\"></i>GUARDAR</button>\n        </div>\n      </div>\n    </b-modal>\n\n    <b-modal v-model=\"modal_cerrar_sesion\" title=\"CERRAR SESIÓN\" :footer=\"false\" hide-footer>\n      <h5 class=\"text-center\">¿SEGURO QUE DESEA SALIR?</h5>\n      <div class=\"row justify-content-between border-top pt-1 mt-4\">\n        <div class=\"col-lg-5 col-md-6 col-sm-12 mt-2\">\n          <button @click=\"modal_cerrar_sesion=false;\" class=\"btn btn-secondary btn-sm btn-block\"><i class=\"fas fa-ban\"></i> CANCELAR</button>\n        </div>\n        <div class=\"col-lg-5 col-md-6 col-sm-12 mt-2\">\n          <button @click=\"cerrarSesion();\" class=\"btn btn-primary btn-sm btn-block\"><i class=\"fas fa-sign-out-alt\"></i> CERRAR SESIÓN</button>\n        </div>\n      </div>\n    </b-modal>\n\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'App',\n  data(){\n    return {\n      id_electrocom         : 2,\n      num_empresa           : 0,\n      num_bodega            : 0,\n      nom_empresa           : '',\n      nom_bodega            : '',\n      barra                 : false, // VARIABLE QUE DETERMINA SI LA BARRA LATERAL ESTA OCULTA\n      menu                  : [],\n      menu                  : [\n        {nombre:'Nuevo Corte' , visible: false, icono: '<i class=\"fas fa-fw mr-2 fa-plus\"></i>'   },\n        {nombre:'Cortes'      , visible: false, icono: '<i class=\"fas fa-fw mr-2 fa-list\"></i>'         },\n        {nombre:'Personal'    , visible: false, icono: '<i class=\"fas fa-fw mr-2 fa-users\"></i>' }\n      ],\n      modal_cambiar_clave   : false,\n      modal_cerrar_sesion   : false,\n      usuario               : {rut:'', dv:'', nombres:'', apellidos:'', clave_actual:'', clave_nueva1:'', clave_nueva2:'', admin:false},\n      cargando_pagina       : false\n    }\n  },\n\n  mounted(){\n    //this.obtieneDatosUsuario();\n    //this.setEmpresa();\n    this.cambiaVista(0);\n  },\n\n  methods:{\n    validaInputsClave(){\n      if(this.usuario.clave_actual != '' && this.usuario.clave_nueva1 == this.usuario.clave_nueva2 && this.usuario.clave_nueva1.length>5 && this.validaClave(this.usuario.clave_nueva1)){\n        return true;\n      }else{\n        return false;\n      }\n    },\n\n    validaClave(clave){\n      var regex = /^(?=.*\\d)(?=.*[a-záéíóúüñ]).*[A-ZÁÉÍÓÚÜÑ]/;\n      if(regex.test(clave) && clave.length > 5){\n        return true;\n      }else{\n        return false;\n      }\n    },\n\n    obtieneDatosUsuario(){\n      this.cargando_pagina = true;\n      axios.post(base_url+'Perfil/obtieneDatosUsuario').then( resp => {\n        if(resp.status === 200){\n          var mensaje = resp.data;\n          if(mensaje.key == 1){\n            this.cargando_pagina        = false;\n            this.usuario.rut            = mensaje.usb_rut;\n            this.usuario.dv             = mensaje.usb_dv;\n            this.usuario.nombres        = mensaje.usb_nombres;\n            this.usuario.apellidos      = mensaje.usb_apellidos;\n            this.usuario.usuario        = mensaje.usb_usuario;\n            this.usuario.administrador  = mensaje.usb_administrador;\n            this.usuario.administrativo = mensaje.usb_administrativo;\n            if(this.usuario.administrador || this.usuario.administrativo){\n              this.menu = this.menu_admin;\n            }\n            else{\n              this.menu = this.menu_personal;\n            }\n            setTimeout(()=>{\n              this.cambiaVista(0);\n            }, 1);\n          }\n          this.cargando_pagina        = false;\n        }\n        else{\n          this.cargando_pagina        = false;\n          this.modal_cambiar_clave    = false;\n          this.muestraToast('ERROR', 'ERROR AL CARGAS DATOS NECESARIOS, INTENTELO MAS TARDE.', 'danger');\n        }\n      });\n    },\n\n    guardaClave(){\n      this.cargando_pagina = true;\n      var dato = new URLSearchParams();\n      dato.append('clave_actual', sha1(md5(this.usuario.rut+this.usuario.clave_actual)));\n      dato.append('clave_nueva', sha1(md5(this.usuario.rut+this.usuario.clave_nueva1)));\n      axios.post(base_url+'Perfil/cambiaClave', dato).then( resp => {\n        if(resp.status === 200 && 'resp' in resp.data){\n          var mensaje = resp.data.resp;\n          if(mensaje.key == 1){\n            this.cargando_pagina      = false;\n            this.modal_cambiar_clave  = false; \n            this.usuario.clave_actual = '';\n            this.usuario.clave_nueva1 = ''; \n            this.usuario.clave_nueva2 = '';\n            this.muestraToast('ÉXITO', 'CLAVE CAMBIADA CON ÉXITO.', 'success');\n          }\n          else if(mensaje.key == 2) {\n            this.cargando_pagina      = false;\n            this.muestraToast('ATENCIÓN', 'LA CLAVE ACTUAL INGRESADA NO ES CORRECTA.', 'danger');\n          }\n          else if(mensaje.key == 0) {\n            this.cargando_pagina      = false;\n            this.muestraToast('ERROR', 'ERROR AL REALIZAR CAMBIOS, INTENTELO MAS TARDE.', 'danger');\n          }\n        }\n        else{\n          this.cargando_pagina        = false;\n          this.muestraToast('ERROR', 'ERROR AL REALIZAR CAMBIOS, INTENTELO MAS TARDE.', 'danger');\n        }\n      });\n    },\n\n    ocultaBarra(){\n      $('#exampleAccordion').css('width', '55px');\n      $('.item_lateral').css('width', '55px');\n      $('.content-wrapper').css('margin-left', '55px');\n      this.barra = false;\n      $(\".texto_barra\").hide();\n    },\n\n    muestraBarra(){\n      $('#exampleAccordion').css('width', '250px');\n      $('.item_lateral').css('width', '250px');\n      $('.content-wrapper').css('margin-left', '250px');\n      this.barra = true;\n      $(\".texto_barra\").show();\n\n    },\n\n    cambiaVista(vista){\n      for(var i=0; i<this.menu.length; i++){\n        if(i == vista)  { this.menu[i].visible = true;   }\n        else            { this.menu[i].visible = false;  }\n      }\n      \n      $('.item_lateral').removeClass('active');\n      $('#item_'+vista).addClass('active');  \n      this.ocultaMenu();\n    },\n\n    ocultaMenu(){\n      $('#navbarResponsive').hide(100); \n    },\n\n    muestraBarraSuperior(){\n      $('#navbarResponsive').toggle(100);\n    },\n\n    setEmpresa(){\n      axios.post(base_url+'sucursal/setempresa').then( resp => {\n        this.num_empresa  = resp.data.dts_empresa;\n        this.num_bodega   = resp.data.dts_bodega;\n        this.nom_empresa  = resp.data.emp_nombre;\n        this.nom_bodega   = resp.data.bod_nombre;\n      });\n    }\n\n  }\n\n}\n</script>\n\n<style>\nhtml {\n  background-color: #343a40;\n}\n\n.v-select .vs__dropdown-menu {\n  max-height: 200px;\n}\n\n.v-select .vs__dropdown-toggle{\n  border: 0!important;\n}\n</style>\n\n<style scoped>\n@media (max-width: 991px) {\n  .content-wrapper{\n    margin-left: auto!important;\n  }\n\n  .texto_barra{\n    display: inline-block !important;\n  }\n\n  #exampleAccordion{\n    width:250px !important;\n  }\n\n  .item_lateral{\n      width:250px !important;\n  }\n}\n\n/*.modal\n{\n  background: black !important;\n}*/\n</style>"]}]}