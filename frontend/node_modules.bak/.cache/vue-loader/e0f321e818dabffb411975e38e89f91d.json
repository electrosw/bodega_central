{"remainingRequest":"/srv/repos/bodega_central/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/srv/repos/bodega_central/frontend/src/components/bodega/Informes.vue?vue&type=script&lang=js&","dependencies":[{"path":"/srv/repos/bodega_central/frontend/src/components/bodega/Informes.vue","mtime":1725048774339},{"path":"/srv/repos/bodega_central/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1676473588660},{"path":"/srv/repos/bodega_central/frontend/node_modules/vue-loader/lib/index.js","mtime":1676473588036}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIGNhcmdhbmRvX3BhZ2luYSAgICAgICA6IGZhbHNlLAogICAgICBpbmZvcm1lX3NlbGVjY2lvbmFkbyAgOiAnJywKICAgICAgZmlsdHJvX2ZlY2hhX2Rlc2RlICAgIDogJycsCiAgICAgIGZpbHRyb19mZWNoYV9oYXN0YSAgICA6ICcnLAogICAgICBpbmZvcm1lcyAgICAgICAgICAgICAgOiBbCiAgICAgICAge3ZhbHVlOicnLCB0ZXh0OidTZWxlY2Npb25hIHVuIGluZm9ybWUnfSwgCiAgICAgICAge3ZhbHVlOjEsIHRleHQ6J0FydGljdWxvcyBlbiBib2RlZ2EnfSwgCiAgICAgICAge3ZhbHVlOjIsIHRleHQ6J0luZ3Jlc29zIHBvciBmZWNoYScgICB9LAogICAgICAgIHt2YWx1ZTozLCB0ZXh0OidTYWxpZGFzIHBvciBmZWNoYScgICAgfQogICAgICBdLAoKICAgICAgY29sdW1uYXNfYXJ0aWN1bG9zICAgIDogWwogICAgICAgIHtrZXk6ICdhcmlfY29kaWdvJyAgICAgICAgICAgICwgbGFiZWw6ICdTS1UnICAgICAgICAgICAgICAgICwgc29ydGFibGU6IHRydWUgICwgdGRDbGFzczoncC0xJywgdGhDbGFzczoncC0xJ30sCiAgICAgICAge2tleTogJ2FyaV9ub21icmUnICAgICAgICAgICAgLCBsYWJlbDogJ0FydGljdWxvJyAgICAgICAgICAgLCBzb3J0YWJsZTogdHJ1ZSAgLCB0ZENsYXNzOidwLTEnLCB0aENsYXNzOidwLTEnfSwKICAgICAgICB7a2V5OiAnYXJpX2NhbnRpZGFkJyAgICAgICAgICAsIGxhYmVsOiAnQ2FudGlkYWQnICAgICAgICAgICAsIHNvcnRhYmxlOiB0cnVlICAsIHRkQ2xhc3M6J3AtMSB0ZXh0LWNlbnRlcicsIHRoQ2xhc3M6J3AtMSd9LAogICAgICAgIHtrZXk6ICdpbmdfZmVjaGFfaW5ncmVzbycgICAgICwgbGFiZWw6ICdGZWNoYSBJbmdyZXNvJyAgICAgICwgc29ydGFibGU6IHRydWUgICwgdGRDbGFzczoncC0xIHRleHQtY2VudGVyJywgdGhDbGFzczoncC0xJ30sCiAgICAgICAge2tleTogJ2luZ19kZXNwYWNob19lc3RpbWFkbycgLCBsYWJlbDogJ0Rlc3BhY2hvIEVzdGltYWRvJyAgLCBzb3J0YWJsZTogdHJ1ZSAgLCB0ZENsYXNzOidwLTEgdGV4dC1jZW50ZXInLCB0aENsYXNzOidwLTEnfSwKICAgICAgICB7a2V5OiAnYXJpX3N1Y3Vyc2FsX2Rlc3Rpbm8nICAsIGxhYmVsOiAnU3VjdXJzYWwgRGVzdC4nICAgICAsIHNvcnRhYmxlOiB0cnVlICAsIHRkQ2xhc3M6J3AtMSB0ZXh0LWNlbnRlcicsIHRoQ2xhc3M6J3AtMSd9LAogICAgICAgIHtrZXk6ICdpbmdfcmFjaycgICAgICAgICAgICAgICwgbGFiZWw6ICdFc3RhbnRlJyAgICAgICAgICAgICwgc29ydGFibGU6IHRydWUgICwgdGRDbGFzczoncC0xIHRleHQtY2VudGVyJywgdGhDbGFzczoncC0xJ30sCiAgICAgICAge2tleTogJ2luZ19pZCcgICAgICAgICAgICAgICAgLCBsYWJlbDogJ07CsCBJbmdyZXNvJyAgICAgICAgICwgc29ydGFibGU6IHRydWUgICwgdGRDbGFzczoncC0xIHRleHQtY2VudGVyJywgdGhDbGFzczoncC0xJ30sCiAgICAgICAge2tleTogJ2luZ19vcmRlbl9jb21wcmEnICAgICAgLCBsYWJlbDogJ09DJyAgICAgICAgICAgICAgICAgLCBzb3J0YWJsZTogdHJ1ZSAgLCB0ZENsYXNzOidwLTEgdGV4dC1jZW50ZXInLCB0aENsYXNzOidwLTEnfQogICAgICBdLAoKICAgICAgY29sdW1uYXNfYXJ0aWN1bG9zX3NhbGlkYSAgICA6IFsKICAgICAgICB7a2V5OiAnYXJpX2NvZGlnbycgICAgICAgICAgICAsIGxhYmVsOiAnU0tVJyAgICAgICAgICAgICAgICAsIHNvcnRhYmxlOiB0cnVlICAsIHRkQ2xhc3M6J3AtMScsIHRoQ2xhc3M6J3AtMSd9LAogICAgICAgIHtrZXk6ICdhcmlfbm9tYnJlJyAgICAgICAgICAgICwgbGFiZWw6ICdBcnRpY3VsbycgICAgICAgICAgICwgc29ydGFibGU6IHRydWUgICwgdGRDbGFzczoncC0xJywgdGhDbGFzczoncC0xJ30sCiAgICAgICAge2tleTogJ2Fyc19jYW50aWRhZCcgICAgICAgICAgLCBsYWJlbDogJ0NhbnRpZGFkJyAgICAgICAgICAgLCBzb3J0YWJsZTogdHJ1ZSAgLCB0ZENsYXNzOidwLTEgdGV4dC1jZW50ZXInLCB0aENsYXNzOidwLTEnfSwKICAgICAgICB7a2V5OiAnaW5nX2ZlY2hhX2luZ3Jlc28nICAgICAsIGxhYmVsOiAnRmVjaGEgSW5ncmVzbycgICAgICAsIHNvcnRhYmxlOiB0cnVlICAsIHRkQ2xhc3M6J3AtMSB0ZXh0LWNlbnRlcicsIHRoQ2xhc3M6J3AtMSd9LAogICAgICAgIHtrZXk6ICdzbGRfZmVjaGFfc2FsaWRhJyAgICAgICwgbGFiZWw6ICdGZWNoYSBTYWxpZGEnICAgICAgICwgc29ydGFibGU6IHRydWUgICwgdGRDbGFzczoncC0xIHRleHQtY2VudGVyJywgdGhDbGFzczoncC0xJ30sCiAgICAgICAge2tleTogJ3NsZF9ib2RlZ2FfZGVzdGlubycgICAgLCBsYWJlbDogJ1N1Y3Vyc2FsIERlc3QuJyAgICAgLCBzb3J0YWJsZTogdHJ1ZSAgLCB0ZENsYXNzOidwLTEgdGV4dC1jZW50ZXInLCB0aENsYXNzOidwLTEnfSwKICAgICAgICB7a2V5OiAnaW5nX3JhY2snICAgICAgICAgICAgICAsIGxhYmVsOiAnRXN0YW50ZScgICAgICAgICAgICAsIHNvcnRhYmxlOiB0cnVlICAsIHRkQ2xhc3M6J3AtMSB0ZXh0LWNlbnRlcicsIHRoQ2xhc3M6J3AtMSd9LAogICAgICAgIHtrZXk6ICdpbmdfb3JkZW5fY29tcHJhJyAgICAgICwgbGFiZWw6ICdPQycgICAgICAgICAgICAgICAgICwgc29ydGFibGU6IHRydWUgICwgdGRDbGFzczoncC0xIHRleHQtY2VudGVyJywgdGhDbGFzczoncC0xJ30sCiAgICAgICAge2tleTogJ2luZ19pZCcgICAgICAgICAgICAgICAgLCBsYWJlbDogJ07CsCBJbmdyZXNvJyAgICAgICAgICwgc29ydGFibGU6IHRydWUgICwgdGRDbGFzczoncC0xIHRleHQtY2VudGVyJywgdGhDbGFzczoncC0xJ30sCiAgICAgICAge2tleTogJ3NsZF9pZCcgICAgICAgICAgICAgICAgLCBsYWJlbDogJ07CsCBTYWxpZGEnICAgICAgICAgICwgc29ydGFibGU6IHRydWUgICwgdGRDbGFzczoncC0xIHRleHQtY2VudGVyJywgdGhDbGFzczoncC0xJ30sCiAgICAgICAge2tleTogJ3NsZF9vcmRlbl90cmFzcGFzbycgICAgLCBsYWJlbDogJ07CsCBPcmQuIFRyYXNwYXNvJyAgICwgc29ydGFibGU6IHRydWUgICwgdGRDbGFzczoncC0xIHRleHQtY2VudGVyJywgdGhDbGFzczoncC0xJ30sCiAgICAgIF0sCgogICAgICBhcnRpY3Vsb3NfYm9kZWdhICA6IFtdCiAgICB9CiAgfSwKICBtb3VudGVkKCl7CiAgICB0aGlzLmZlY2hhX2FjdHVhbCA9IG5ldyBEYXRlKCk7CiAgfSwKICBtZXRob2RzOnsKICAgIGxpc3RhckluZm9ybWUoKXsKICAgICAgdGhpcy5jYXJnYW5kb19wYWdpbmEgPSB0cnVlOwogICAgICBjb25zdCBkYXRvcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMoKTsKICAgICAgZGF0b3MuYXBwZW5kKCd0aXBvX2luZm9ybWUnLCB0aGlzLmluZm9ybWVfc2VsZWNjaW9uYWRvKTsKICAgICAgaWYodGhpcy5pbmZvcm1lX3NlbGVjY2lvbmFkbyA9PSAyIHx8IHRoaXMuaW5mb3JtZV9zZWxlY2Npb25hZG8gPT0gMyl7CiAgICAgICAgZGF0b3MuYXBwZW5kKCdmZWNoYV9kZXNkZScsIHRoaXMuZmlsdHJvX2ZlY2hhX2Rlc2RlKTsKICAgICAgICBkYXRvcy5hcHBlbmQoJ2ZlY2hhX2hhc3RhJywgdGhpcy5maWx0cm9fZmVjaGFfaGFzdGEpOwogICAgICB9CiAgICAgIGF4aW9zLnBvc3QoYmFzZV91cmwrJ2JvZGVnYS9saXN0YXJJbmZvcm1lJywgZGF0b3MpLnRoZW4oIHJlc3AgPT4gewogICAgICAgIHRoaXMuYXJ0aWN1bG9zX2JvZGVnYSA9IHJlc3AuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwLmRhdGEpOwogICAgICAgIHRoaXMuY2FyZ2FuZG9fcGFnaW5hID0gZmFsc2U7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+ewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB0aGlzLmNhcmdhbmRvX3BhZ2luYSA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCgogICAgdmFsaWRhRmlsdHJvcygpewogICAgICBpZih0aGlzLmluZm9ybWVfc2VsZWNjaW9uYWRvID09ICcnIHx8ICggKHRoaXMuaW5mb3JtZV9zZWxlY2Npb25hZG8gPT0gMiB8fCB0aGlzLmluZm9ybWVfc2VsZWNjaW9uYWRvID09IDMpICYmICh0aGlzLmZpbHRyb19mZWNoYV9kZXNkZSA9PSAnJyB8fCB0aGlzLmZpbHRyb19mZWNoYV9oYXN0YSA9PSAnJykpKXsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICB9Cn0KCg=="},{"version":3,"sources":["Informes.vue"],"names":[],"mappings":";AA6DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Informes.vue","sourceRoot":"src/components/bodega","sourcesContent":["<template>\n  <div class=\"container-fluid\">\n    <loader-component :cargando_pagina=\"cargando_pagina\"/>\n    <div class=\"row\">\n      <div class=\"col-12 text-md-left text-center\">\n        <h3><i class=\"fas fa-fw fa-file-alt mr-2\"></i>INFORMES DE BODEGA</h3>\n      </div>\n    </div>\n\n\n    <div class=\"row px-2\">\n      <div class=\"card w-100\">\n        <div class=\"card-header\">\n          <div class=\"row justify-content-center mt-4\">\n            <div class=\"col-6 text-rigth\">\n              <b-form-select v-model=\"informe_seleccionado\" class=\"mb-3\" :options=\"informes\" size=\"sm\"></b-form-select>\n            </div>\n            <div class=\"col-3 text-left\">\n              <b-button :disabled=\"!validaFiltros()\" @click=\"listarInforme();\" variant=\"primary\" size=\"sm\">BUSCAR</b-button>\n            </div>\n          </div>\n          <div v-if=\"informe_seleccionado == 2 || informe_seleccionado == 3\" class=\"row\">\n            <div class=\"col-6\">\n              <b-form-datepicker size=\"sm\" v-model=\"filtro_fecha_desde\" class=\"mb-3\" placeholder=\"Fecha desde\" label-help=\"Selecciona un día.\" label-no-date-selected=\"-\" label-next-month=\"SIGUIENTE MES\" label-prev-month=\"MES ANTERIOR\" label-prev-year=\"AÑO ANTERIOR\" label-next-year=\"SIGUIENTE AÑO\" label-current-month=\"MES ACTUAL\" start-weekday=\"1\"></b-form-datepicker>\n            </div>\n            <div class=\"col-6\">\n              <b-form-datepicker size=\"sm\" v-model=\"filtro_fecha_hasta\" class=\"mb-3\" placeholder=\"Fecha hasta\" label-help=\"Selecciona un día.\" label-no-date-selected=\"-\" label-next-month=\"SIGUIENTE MES\" label-prev-month=\"MES ANTERIOR\" label-prev-year=\"AÑO ANTERIOR\" label-next-year=\"SIGUIENTE AÑO\" label-current-month=\"MES ACTUAL\" start-weekday=\"1\"></b-form-datepicker>\n            </div>\n          </div>\n        </div>\n        <div class=\"card-content\">\n          <b-table v-if=\"articulos_bodega.length > 0 && informe_seleccionado < 3\" striped hover :items=\"articulos_bodega\" :fields=\"columnas_articulos\" :thead-tr-class=\"'text-center align-middle bg-dark text-white'\">\n            <template v-slot:cell(ari_cantidad)=\"data\">\n              <span>{{ data.value+' '+data.item.ari_unidad_medida.toLowerCase()}}</span>\n            </template>\n            <template v-slot:cell(ing_rack)=\"data\">\n              <span>{{ data.item.esp_seccion+'-'+data.item.esp_estante+'-'+data.item.esp_numero }}</span>\n            </template>\n          </b-table>\n\n          <b-table v-if=\"articulos_bodega.length > 0 && informe_seleccionado == 3\" striped hover :items=\"articulos_bodega\" :fields=\"columnas_articulos_salida\" :thead-tr-class=\"'text-center align-middle bg-dark text-white'\">\n            <template v-slot:cell(ari_cantidad)=\"data\">\n              <span>{{ data.value+' '+data.item.ari_unidad_medida.toLowerCase()}}</span>\n            </template>\n            <template v-slot:cell(ing_rack)=\"data\">\n              <span>{{ data.item.esp_seccion+'-'+data.item.esp_estante+'-'+data.item.esp_numero }}</span>\n            </template>\n          </b-table>\n\n          <b-alert v-if=\"informe_seleccionado == ''\" show variant=\"info\" class=\"text-center m-3\">Sin informe seleccionado.</b-alert>\n          <b-alert v-if=\"articulos_bodega.length == 0\" show variant=\"warning\" class=\"text-center m-3\">Sin datos para listar.</b-alert>\n        </div>\n      </div>\n      \n    </div>\n\n\n  </div>\n</template>\n\n<script>\nexport default {\n  data(){\n    return{\n      cargando_pagina       : false,\n      informe_seleccionado  : '',\n      filtro_fecha_desde    : '',\n      filtro_fecha_hasta    : '',\n      informes              : [\n        {value:'', text:'Selecciona un informe'}, \n        {value:1, text:'Articulos en bodega'}, \n        {value:2, text:'Ingresos por fecha'   },\n        {value:3, text:'Salidas por fecha'    }\n      ],\n\n      columnas_articulos    : [\n        {key: 'ari_codigo'            , label: 'SKU'                , sortable: true  , tdClass:'p-1', thClass:'p-1'},\n        {key: 'ari_nombre'            , label: 'Articulo'           , sortable: true  , tdClass:'p-1', thClass:'p-1'},\n        {key: 'ari_cantidad'          , label: 'Cantidad'           , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n        {key: 'ing_fecha_ingreso'     , label: 'Fecha Ingreso'      , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n        {key: 'ing_despacho_estimado' , label: 'Despacho Estimado'  , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n        {key: 'ari_sucursal_destino'  , label: 'Sucursal Dest.'     , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n        {key: 'ing_rack'              , label: 'Estante'            , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n        {key: 'ing_id'                , label: 'N° Ingreso'         , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n        {key: 'ing_orden_compra'      , label: 'OC'                 , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'}\n      ],\n\n      columnas_articulos_salida    : [\n        {key: 'ari_codigo'            , label: 'SKU'                , sortable: true  , tdClass:'p-1', thClass:'p-1'},\n        {key: 'ari_nombre'            , label: 'Articulo'           , sortable: true  , tdClass:'p-1', thClass:'p-1'},\n        {key: 'ars_cantidad'          , label: 'Cantidad'           , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n        {key: 'ing_fecha_ingreso'     , label: 'Fecha Ingreso'      , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n        {key: 'sld_fecha_salida'      , label: 'Fecha Salida'       , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n        {key: 'sld_bodega_destino'    , label: 'Sucursal Dest.'     , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n        {key: 'ing_rack'              , label: 'Estante'            , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n        {key: 'ing_orden_compra'      , label: 'OC'                 , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n        {key: 'ing_id'                , label: 'N° Ingreso'         , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n        {key: 'sld_id'                , label: 'N° Salida'          , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n        {key: 'sld_orden_traspaso'    , label: 'N° Ord. Traspaso'   , sortable: true  , tdClass:'p-1 text-center', thClass:'p-1'},\n      ],\n\n      articulos_bodega  : []\n    }\n  },\n  mounted(){\n    this.fecha_actual = new Date();\n  },\n  methods:{\n    listarInforme(){\n      this.cargando_pagina = true;\n      const datos = new URLSearchParams();\n      datos.append('tipo_informe', this.informe_seleccionado);\n      if(this.informe_seleccionado == 2 || this.informe_seleccionado == 3){\n        datos.append('fecha_desde', this.filtro_fecha_desde);\n        datos.append('fecha_hasta', this.filtro_fecha_hasta);\n      }\n      axios.post(base_url+'bodega/listarInforme', datos).then( resp => {\n        this.articulos_bodega = resp.data;\n        console.log(resp.data);\n        this.cargando_pagina = false;\n      }).catch(error =>{\n        console.log(error);\n        this.cargando_pagina = false;\n      });\n    },\n\n    validaFiltros(){\n      if(this.informe_seleccionado == '' || ( (this.informe_seleccionado == 2 || this.informe_seleccionado == 3) && (this.filtro_fecha_desde == '' || this.filtro_fecha_hasta == ''))){\n        return false;\n      }\n      else {\n        return true;\n      }\n    }\n  }\n}\n\n</script>\n\n<style >\n\n</style>\n"]}]}